{"mappings":"AA0FA,SAASA,EAAUC,EAAaC,GAC9B,MAAMC,EAAOD,EAAcA,EAAYE,MAAM,EAAG,GAAK,GAEpC,OAAbH,EAAYI,OAAS,EAChBJ,EAAY,GAAGK,KAAO,cAAgBH,EAG3CF,EACGM,KAAI,SAAUC,GACb,OAAOA,EAAMF,I,IAEdG,KAAK,MACR,MACAN,C,CArGNO,OAAOC,iBAAiB,oBAAoB,YAI5C,WACE,MAAMC,EAAS,mCAIfC,MAFE,4DAA8DD,GAG7DE,MAAK,SAAUC,GACd,OAAOA,EAASC,M,IAEjBF,MAAK,SAAUG,GACd,MAAMC,EAASD,EAAKE,QAAQf,MAAM,EAAG,GAC/BgB,EAAkBC,SAASC,eAC/B,kCAGFJ,EAAOK,SAAQ,SAAUC,GACvB,MAAMC,EAAUD,EAAME,GAOtBb,MALE,sCACAY,EACA,YACAb,GAGCE,MAAK,SAAUC,GACd,OAAOA,EAASC,M,IAEjBF,MAAK,SAAUa,GACd,MAAMC,EAalB,SAAyBJ,EAAOG,GAC9B,MAAMC,EAAYP,SAASQ,cAAc,OAGzC,GAFAD,EAAUE,UAAY,2BAElBN,EAAMO,YAAa,CACrB,MAAMC,EAAY,kCAAoCR,EAAMO,YACtDE,EAASZ,SAASQ,cAAc,OACtCI,EAAOC,IAAMF,EACbC,EAAOE,IAAMX,EAAMY,MAAQ,UAC3BR,EAAUS,YAAYJ,GAEtB,MAAMK,EAAYjB,SAASQ,cAAc,OACzCS,EAAUR,UAAY,2BAEtB,MAAMS,EAAqBlB,SAASQ,cAAc,OACvBU,EAART,UAAY,uBAE/B,MAAMM,EAAQf,SAASQ,cAAc,MACrCO,EAAMI,UAAUC,IAAI,6BACpBL,EAAMM,YAAclB,EAAMY,MAC1BG,EAAmBF,YAAYD,GAE/B,MAAMO,EAAStB,SAASQ,cAAc,KACtCc,EAAOH,UAAUC,IAAI,8BACrBE,EAAOD,YAAc1C,EAAU2B,EAAUgB,OAAQhB,EAAUiB,cAC3DL,EAAmBF,YAAYM,GAE/BL,EAAUD,YAAYE,GAEtB,MAAMM,EAASxB,SAASQ,cAAc,KACtCgB,EAAOH,YAAcf,EAAUmB,aAC/BR,EAAUD,YAAYQ,GAEtBjB,EAAUS,YAAYC,GAEtBV,EAAUjB,iBAAiB,SAAS,YA0BxC,SAAmBa,EAAOG,GAIxBoB,QAAQC,IAAI,cACZD,QAAQC,IAAI,eAAgBxB,EAAMY,OAClCW,QAAQC,IACN,gBACAhD,EAAU2B,EAAUgB,OAAQhB,EAAUiB,eAExCG,QAAQC,IAAI,gBAAiBrB,EAAUmB,a,CAnCnCG,CAAUzB,EAAOG,E,IAIrB,OAAOC,C,CArDqBsB,CAAgB1B,EAAOG,GACzCP,EAAgBiB,YAAYT,E,IAE7BuB,OAAM,SAAUC,GACfL,QAAQC,IAAII,E,UAInBD,OAAM,SAAUC,GACfL,QAAQC,IAAII,E,IAxChBC,E,IAsHFhC,SAASiC,cAAc","sources":["src/index.js"],"sourcesContent":["import './JS/api_key';\n\nwindow.addEventListener('DOMContentLoaded', function () {\n  fetchMovies();\n});\n\nfunction fetchMovies() {\n  const apiKey = '839ee1ac45e2249141bd738796b376ad'; // Вставте свій API ключ\n  const trendingUrl =\n    'https://api.themoviedb.org/3/trending/movie/week?api_key=' + apiKey;\n\n  fetch(trendingUrl)\n    .then(function (response) {\n      return response.json();\n    })\n    .then(function (data) {\n      const movies = data.results.slice(0, 3); // Обмежуємо список фільмів до трьох\n      const moviesContainer = document.getElementById(\n        'weekly-trends-movies-container'\n      );\n\n      movies.forEach(function (movie) {\n        const movieId = movie.id;\n        const movieUrl =\n          'https://api.themoviedb.org/3/movie/' +\n          movieId +\n          '?api_key=' +\n          apiKey;\n\n        fetch(movieUrl)\n          .then(function (response) {\n            return response.json();\n          })\n          .then(function (movieData) {\n            const movieCard = createMovieCard(movie, movieData);\n            moviesContainer.appendChild(movieCard);\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\nfunction createMovieCard(movie, movieData) {\n  const movieCard = document.createElement('div');\n  movieCard.className = 'weekly-trends-movie-card';\n\n  if (movie.poster_path) {\n    const posterUrl = 'https://image.tmdb.org/t/p/w500' + movie.poster_path;\n    const poster = document.createElement('img');\n    poster.src = posterUrl;\n    poster.alt = movie.title + ' Poster';\n    movieCard.appendChild(poster);\n\n    const movieInfo = document.createElement('div');\n    movieInfo.className = 'weekly-trends-movie-info';\n\n    const titleGenresWrapper = document.createElement('div'); // Окремий div для заголовку та жанрів\n    titleGenresWrapper.className = 'title-genres-wrapper';\n\n    const title = document.createElement('h2');\n    title.classList.add('weekly-trends-movie-title');\n    title.textContent = movie.title;\n    titleGenresWrapper.appendChild(title);\n\n    const genres = document.createElement('p');\n    genres.classList.add('weekly-trends-movie-genres');\n    genres.textContent = getGenres(movieData.genres, movieData.release_date);\n    titleGenresWrapper.appendChild(genres);\n\n    movieInfo.appendChild(titleGenresWrapper);\n\n    const rating = document.createElement('p');\n    rating.textContent = movieData.vote_average;\n    movieInfo.appendChild(rating);\n\n    movieCard.appendChild(movieInfo);\n\n    movieCard.addEventListener('click', function () {\n      openModal(movie, movieData);\n    });\n  }\n\n  return movieCard;\n}\n\nfunction getGenres(genresArray, releaseDate) {\n  const year = releaseDate ? releaseDate.slice(0, 4) : ''; // Отримуємо рік з дати\n\n  if (genresArray.length > 2) {\n    return genresArray[0].name + ', others | ' + year;\n  } else {\n    return (\n      genresArray\n        .map(function (genre) {\n          return genre.name;\n        })\n        .join(', ') +\n      ' | ' +\n      year\n    );\n  }\n}\n\nfunction openModal(movie, movieData) {\n  // Виконати дії для відкриття модального вікна з детальною інформацією про фільм\n  // Ви можете викликати власну функцію або використовувати бібліотеки/інструменти для створення модального вікна.\n  // У цьому коді я просто виведу інформацію про фільм у консоль для прикладу:\n  console.log('Open Modal');\n  console.log('Movie Title:', movie.title);\n  console.log(\n    'Movie Genres:',\n    getGenres(movieData.genres, movieData.release_date)\n  );\n  console.log('Movie Rating:', movieData.vote_average);\n}\n\ndocument.querySelector('.movies-container');\n"],"names":["$1f0dc3b9307be026$var$getGenres","genresArray","releaseDate","year","slice","length","name","map","genre","join","window","addEventListener","apiKey","fetch","then","response","json","data","movies","results","moviesContainer","document","getElementById","forEach","movie","movieId","id","movieData","movieCard","createElement","className","poster_path","posterUrl","poster","src","alt","title","appendChild","movieInfo","titleGenresWrapper","classList","add","textContent","genres","release_date","rating","vote_average","console","log","$1f0dc3b9307be026$var$openModal","$1f0dc3b9307be026$var$createMovieCard","catch","error","$1f0dc3b9307be026$var$fetchMovies","querySelector"],"version":3,"file":"index.2e3f1729.js.map"}